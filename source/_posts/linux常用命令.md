---
title: linux常用命令
date: 2018-10-16 20:10:09
tags:
- Linux
categories:
- Linux
---

<style>
table th:first-of-type {
    width: 20%;
}
</style>

> 本文主要用来收集整理日常工作中常用的linux命令。
> 所以会随着工作持续更新。
> 暂时把印象中常用的命令列了出来，后续会慢慢完善其中内容。

### man

__man__即manual，是Linux下的帮助指令，通过__man__命令可以查看Linux中的指令帮助、配置文件帮助和编程帮助等信息。
查看指令帮助时，可以使用方向键上下移动一行，也可使用_PageUp_或_PageDown_进行上下翻页，退出查看的话按下*q*即可。

#### 语法
```
man (选项) (参数)
```

<!-- more -->

#### 选项

|选项|描述
|:------|:------|
|-a|在所有的man帮助手册中搜索|
|-f|等价于whatis指令，显示给定关键字的简短描述信息|
|-P|指定内容时使用分页程序|
|-M|指定man手册搜索的路径|

#### 参数

- 数字：指定从哪本man手册中搜索帮助；
- 关键字：指定要搜索帮助的关键字。

#### 总结

感觉__man__命令的选项和参数应用的都不是很多，一般使用时都是直接
```
man [指令]
```
例如：
```
man man
```
就可以用来查看__man__指令帮助信息。

### date

__date__命令是显示或设置系统时间与日期。

#### 语法

```
date (选项) (参数)
```



#### 选项

|选项|描述
|:------|:------|
|-d<字符串>|显示字符串所指的日期与时间。字符串前后必须加上双引号|
|-s<字符串>|根据字符串来设置日期与时间。字符串前后必须加上双引号|
|-u|显示GMT|
|\--help|在线帮助|
|\--version|显示版本信息|

#### 参数

- <+时间日期格式>：指定显示时使用的日期时间格式，有空格的话需要加上双引号（""）。


#### 日期格式通配符列表

|通配符|描述
|:------|:------|
|%H|小时，24小时制（00~23）|
|%I|小时，12小时制（01~12）|
|%k|小时，24小时制（0~23）|
|%l|小时，12小时制（1~12）|
|%M|分钟（00~59）|
|%p|显示出AM或PM|
|%r|显示时间，12小时制（hh:mm:ss %p）|
|%s|从1970年1月1日00:00:00到目前经历的秒数|
|%S|显示秒（00~59）|
|%T|显示时间，24小时制（hh:mm:ss）|
|%X|显示时间的格式（%H:%M:%S）|
|%Z|显示时区，日期域（CST）|
|%a|星期的简称（Sun~Sat）|
|%A|星期的全称（Sunday~Saturday）|
|%h,%b|月的简称（Jan~Dec）|
|%B|月的全称（January~December）|
|%c|日期和时间（Tue Nov 20 14:12:58 2012）|
|%d|一个月的第几天（01~31）|
|%x,%D|日期（mm/dd/yy）|
|%j|一年的第几天（001~366）|
|%m|月份（01~12）|
|%w|一个星期的第几天（0代表星期天）|
|%W|一年的第几个星期（00~53，星期一为第一天）|
|%y|年的最后两个数字（1999则是99）|
|%Y|年份的全数字|

#### 总结

__date__命令因为有很多通配符的支持，使得使用起来非常的灵活。不过常用的还是下面三种形式

```
date // 直接查看当前时间
date "+%Y-%m-%d %H:%M:%S" // 格式化输出当前时间
date -s "2018-10-18 20:00" // 设置当前时间
```

值得注意的是只有root用户才能设置系统时间，其他用户只能查看，不能设置。
另外比较有意思的就是__date__命令中时间可以有加减操作

```
date -d "-1 day" // 显示1天前
date -d "+1 day" // 显示1天后
date -s "-1 year" // 设置当前时间为1年前
date -s "+1 year" // 设置当前时间为1天后
```

### pwd

__pwd__即print work dictionary，以绝对路径的方式显示用户当前工作目录。

#### 语法

```
pwd（选项）
```

#### 选项
|选项|描述
|:------|:------|
|\--help|显示帮助信息|
|\--version|显示版本信息|

#### 总结

__pwd__命令基本上是可以说是最基础的命令了，而且只能用来查看当前工作目录的绝对路径，没过多的选项参数支持，使用时直接单独使用就好。
```
pwd
```

### cd
__cd__即change dictionary，__cd__命令用来切换工作目录至指定路径，该路劲可以是绝对路劲也可以是相对路劲。

#### 语法

```
cd (选项) (参数)
```

#### 选项

|选项|描述
|:------|:------|
|-p|如果要切换到的目标目录是一个符号连接，直接切换到符号连接指向的目标目录|
|-L|如果要切换的目标目录是一个符号的连接，直接切换到字符连接名代表的目录，而非符号连接所指向的目标目录。|
|- |当仅实用"-"一个选项时，当前工作目录将被切换到环境变量"OLDPWD"所表示的目录|

#### 参数

- <目标目录>，绝对路劲和相对路径均可以。

#### 总结

__cd__命令是经常使用的命令，使用起来很简单，主要理解绝对路径和相对路径即可。另外有几个比较特殊的用法

```
cd -	// 返回之前所在的目录
cd ~	// 进入用户的主目录，即登录时所在的目录。
cd	// 等同于cd ~
```

### ls

__ls__即list directory contents，__ls__命令用来显示目标列表。

#### 语法

```
ls (选项) (参数)
```

#### 选项

|选项|描述
|:------|:------|
|-a|显示所有档案及目录（ls内定将档案名或目录名称为“.”的视为影藏，不会列出）|
|-A|显示除影藏文件“.”和“..”以外的所有文件列表|
|-C|多列显示输出结果。这是默认选项|
|-l|与“-C”选项功能相反，所有输出信息用长格式输出，不输出为多列|
|-F|在每个输出项后追加文件的类型标识符，具体含义：“*”表示具有可执行权限的普通文件，“/”表示目录，“@”表示符号链接，“&#124;”表示命令管道FIFO，“=”表示sockets套接字。当文件为普通文件时，不输出任何标识符|
|-b|将文件中的不可输出的字符以反斜线“”加字符编码的方式输出|
|-c|与“-lt”选项连用时，按照文件状态时间排序输出目录内容，排序的依据是文件的索引节点中的ctime字段。与“-l”选项连用时，则排序的依据是文件名称，另外还按ctime排序|
|-d|仅显示目录名，而不显示目录下的内容列表。显示符号链接文件本身，而不显示其所指向的目录列表|
|-f|此参数的效果和同时指定“-aU”参数相同，并关闭“-ls --color”参数的效果|
|-h|以方便人们阅读的方式展示文件大小|
|-i|显示文件索引节点号（inode）。一个索引节点代表一个文件|
|-\-file-type|与“-F”选项的功能相同，但是不显示“*”|
|-k|以KB（千字节）为单位显示文件大小|
|-l|以长格式显示目录下的内容列表。输出的信息从左到右依次包括文件名，文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等|
|-m|用“,”号区隔每个文件和目录的名称|
|-n|以用户识别码和群组识别码替代其名称|
|-r|以文件名反序排列并输出目录内容列表|
|-s|显示文件和目录的大小，以区块为单位|
|-S|按文件大小排序|
|-t|用文件和目录的更改时间排序|
|-L|如果遇到性质为符号链接的文件或目录，直接列出该链接所指向的原始文件或目录|
|-R|递归处理，将指定目录下的所有文件及子目录一并处理|
|-u|与“-lt”选项连用时，按访问时间排序并展示，与“-l”选项连用时，则按名称以及访问时间同时排序|
|-U|不做排序，按照存放在目录中的顺序展示|
|-\-full-time|列出完整的日期与时间|
|-\-color[=WHEN]|使用不同的颜色高亮显示不同类型的。|

#### 参数

- <目录|文件>，指定要显示列表的目录，也可以是具体的文件，绝对路劲相对路径均可以，也可以匹配通配符。

#### 总结

__ls__是Linux中常用的命令，通常用来查看当前目录下的文件直接使用__ls__命令即可，因为__ls__默认参数是当前目录的相对路径。即

```
ls // 等同于 ls .
```

为了方便查看，经常需要每个文件单独显示一行，并显示文件的简要信息可以使用

```
ls -l
```

此时展示的文件大小单位很单一，仅为byte，阅读起来很不方便，可以通过使用“-lh”来展示阅读的友好单位

```
ls -lh
```

有时需要只显示部分文件则可以使用通配符去做过滤

```
ls *.txt	// 只当前目录下显示以.txt结尾的文件
```

有时需要对显示文件进行排序（默认排序均为倒序，加上-r以后可以改为升序）

```
ls -clt		// 按ctime进行倒序排序
ls -ult 	// 按访问时间倒序排序
ls -lS		// 按照文件大小倒序排序

ls -cltr	// 按ctime进行升序排序
ls -ultr 	// 按访问时间升序排序
ls -lSr		// 按照文件大小升序排序
```

有时仅需要展示目录信息，不需要展示目录内文件的信息，尤其目录内文件特别多的时候展示目录内各文件名称（信息）会很浪费时间

```
ls -ld
```

### touch

__touch__命令用来更新文件的时间戳（默认修改为当前时间），如果文件不存在的话，则会创建该文件。

#### 语法

```
touch (选项) (参数)
```

#### 选项

|选项|描述|
|:------|:------|
|-a|仅仅更新文件访问时间|
|-c, \--no-create|不创建任何文件|
|-d, \--date=STRING|使用指定的时间而非当前时间|
|-m|仅仅更新文件修改时间|
|-r, \--reference=FILE|指定参考文件，按照参考文件更新文件的时间戳|
|-t|使用指定时间而非当前时间，时间格式为：[[CC]YY]MMDDhhmm[.ss]|
|\--time=WORD|指定要修改的时间戳，\--time=access或--time=atime等同于-a，\--time=modify或\--time=mtime等同于-m|
|\--help|帮助文档
|\--version|显示版本信息|

#### 参数

- 文件列表：待更新时间戳的文件列表（即可以同时更新多个文件）

#### 总结

__touch__命令可以更新文件的访问时间和修改时间，默认情况会把两者都更新为系统当前时间，选项支持我们灵活的去更新时间戳。
不过在我平常工作中感觉用的不多，很少碰到需要更新文件时间戳的情况，创建文件的话一般直接使用__vim__命令去创建并编辑了。__touch__命创建文件的优势就在于可以同时创建多个文件了。

### dos2unix

__dos2unix__命令用来将DOS格式的文本文件转换成UNIX格式的。

#### 语法

```
dos2unix [-kq] [-c convmode] [-o file ...] [-n infile outfile ...]
```

#### 选项

|选项|描述|
|:------|:------|
|-h,\--help|在线帮助文档|
|-k,\--keepdate|保持输出文件时间戳不变|
|-q,\--quiet|安静模式，不提示任何警告信息|
|-V,\--version|显示版本信息|
|-c,\--convmode|设置转换模式，转换模式共有: ASCII, 7bit, ISO, Mac，默认为ASCII|
|-o,\--oldfile file ...|源文件模式，将转换过得文件内容输出到源文件道中。程序默认使用这一种模式，且支持通配符|
|-n,\--newfile in out ...|新文件模式，将源文件转化后文件内容输出到新文件道中。文件名必须成对出现。不要使用通配符，不然可能会丢失文件|

#### 参数

- -c <ASCII|7bit|ISO|Mac>：指定转换模式，默认为ASCII
- -o <文件列表>：需要转换文件格式的文件列表
- -n <源文件 新文件 [源文件 新文件 ...]>：新文件模式下的源文件新文件对。

#### 总结

__dos2unix__命令本身很简单，就是用来转换文本文件的，主要是由于DOS文件系统下文件换行为\\n\\r，而unix文件系统下换行为\\n，很多命令在处理文件的时候不能很好的处理DOS文本文件。
__dos2unix__命令日常工作中使用频率还是挺高的，毕竟大部分情况下时windows下开发，在windows中编写好的文本，传到服务器上后则需要执行此命令，尤其是shell脚本这一类，不然脚本根本执行不了。

使用起来也很简单，因为指令的默认设置，所以如果只是想将某DOS文件直接转换位UNIX文件，直接

```
dos2unix file
```

可以同时转化多个文件，空格隔开就好

```
dos2unix file1 file2 file3
```

有些时候不想改变文件的时间戳，加上-k即可

```
dos2unix -k file1 file2 file3
```

需要设置转换模式的情况不多，默认转换格式为ASCII

```
dos2unix -k -c 7bit file1 file2 file3
```

偶尔会需要保留源文件

```
dos2unix -n old new
```

另外还有__mac2unix__和__unix2dos__这两个类似的命令，用法和__dos2unix__一致就不分别介绍了。

### mkdir

__mkdir__即make directories，用来创建目录，即平常windows下所看到的文件夹。

#### 语法

```
mkdir (选项) (参数)
```

#### 选项

|选项|描述|
|:------|:------|
|-m,\--mode=MODE|设置目录权限|
|-p,\--parents|如果父目录不存在，则自动创建父目录|
|-v,\--verbose|没创建一个文件输出一条通知消息|
|\--help|查看帮助文档|
|\--version|显示版本信息|

#### 参数

- <目录路劲列表> ：要创建的目录列表，多个目录空格隔开。可以是绝对路径，也可以是相对路劲

#### 总结

__mkdir__命令功能很简单，目的很明确，就是用来创建目录的，基本上经常用到。


使用最多的情况基本上是直接跟上子目录名称来在当前目录下创建子目录

```
mkdir name
```

当然，可以同时创建多个子目录

```
mkdir child1 child2
```

有时候会通过绝对路劲去创建目录

```
mkdir /home/hulyang/test
```

为了避免创建指定目录时父目录不存在而报错的情况，可以加上-p 来连同不存在的父目录一起创建

```
mkdir -p /home/hulyang/parent/child
```

### cp
### mv
### rm
### zip
### tar
### file
### stat
### cat
### more
### less
### head
### tail
### cut
### grep
### wc
### history
### ps
### top
### df
